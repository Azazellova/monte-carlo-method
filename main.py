import numpy as np

# Параметры
n = 10000  # количество имитаций
length = 20
area_min, area_max = 36, 75

# Фиксируем случайное зерно для воспроизводимости
np.random.seed(42)

# Метод Монте-Карло для 10000 имитаций
X = np.random.uniform(0, length, n)          # 1. Генерация точек разлома
S = X * (length - X)                         # 2. Вычисление площадей
success = (S >= area_min) & (S <= area_max)  # 3. Проверка условия
m = np.sum(success)                          # 4. Число успешных испытаний
p_stat = m / n                               # 5. Статистическая вероятность

# Вывод результата оценивания вероятности
print(f"Метод Монте-Карло (n={n}):")
print(f"Успешных испытаний: {m} из {n}")
print(f"Статистическая вероятность: {p_stat:.4f}")

# Сравнение с теоретической вероятностью
p_theory = 0.3
deviation = abs(p_stat - p_theory)
print(f"\nСравнение с теоретической вероятностью:")
print(f"Теоретическая вероятность: {p_theory:.4f}")
print(f"Отклонение: {deviation:.4f}")
print(f"Относительное отклонение: {deviation/p_theory*100:.2f}%")
